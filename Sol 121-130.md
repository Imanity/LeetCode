# Question 121  Best Time to Buy and Sell Stock

### Question Describe

给定一数列表示股票价格, 求买入和卖出的最佳时机, 使得利润最大, 要求只有一笔交易

### Better Solution (AC)

遍历股票价格, 维护min表示股票当前最小值, 每格时刻的股票价格减去当前的min值即为当前时刻卖出所能获得的最大盈利, 时间复杂度o(n)

# Question 122  Best Time to Buy and Sell Stock II

### Question Describe

同上题, 但允许有多笔交易, 但同一时刻只允许一笔交易进行

### My Solution (AC)

即为求该数列所有最小递增子区间之和

# Question 123  Best Time to Buy and Sell Stock III

### Question Describe

同上题, 但只允许有两笔交易

### Better Solution (AC)

使用动态规划, 对每个时刻, 有4个状态: 买入过一次, 买入&卖出过一次, 买入2次&卖出1次, 买卖2次

- 一次买入: a[i][0] = max(a[i - 1][0], -p[i])

- 买卖一次: a[i][1] = max(a[i - 1][1], a[i - 1][0] + p[i])

- 两次买入一次卖出: a[i][2] = max(a[i - 1][2], a[i - 1][1] - p[i])

- 买卖两次: a[i][3] = max(a[i - 1][3], a[i - 1][2] + p[i])

max(a[n][1], a[n][3])即为所求, 时间复杂度o(n)
